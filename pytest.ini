[pytest]
pythonpath = . src
testpaths = tests
addopts = -v --tb=short
asyncio_mode = auto
asyncio_default_fixture_loop_scope = function
markers =
    jj: marks tests as requiring jj (jujutsu) to be installed (deselect with '-m "not jj"')
    orchestrator_availability: tests for agent availability detection
    orchestrator_fixtures: tests for fixture loading and management
    orchestrator_happy_path: happy path end-to-end tests
    orchestrator_review_cycles: review rejection/approval cycle tests
    orchestrator_parallel: parallel execution and dependency tests
    orchestrator_smoke: basic smoke tests for agent invocation
    core_agent: test requires core tier agent (fails if unavailable)
    extended_agent: test for extended tier agent (skips if unavailable)
    slow: test expected to take >30 seconds
    timeout: test timeout in seconds (requires pytest-timeout plugin)
    adversarial: Adversarial/security tests for 0.13.0
    distribution: Tests requiring wheel install (slow, no SPEC_KITTY_TEMPLATE_ROOT)
    platform_darwin: macOS-specific tests (case-insensitive FS)
    platform_linux: Linux-specific tests
    requires_symlinks: Tests that need symlink support
    asyncio: marks tests as async (requires pytest-asyncio plugin)
